<!--
 *Copyright 2018 T Mobile, Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); You may not use
 * this file except in compliance with the License. A copy of the License is located at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * or in the "license" file accompanying this file. This file is distributed on
 * an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or
 * implied. See the License for the specific language governing permissions and
 * limitations under the License.
 -->

<div
    class="complaince-graph-container"
    [class.single-arc]="donutData.length == 1"
    (window:resize)="onResize()"
>
    <svg
        [class.no-opacity]="!loaded"
        class="donut-chart-svg"
        height="250"
        id="overallComplianceSvg"
    ></svg>
    <div class="absolute donut-chart-center">
        <div class="donut-chart-val">
            <div
                class="title-percent anim-percent"
                [class.complaint]="overallPercentage == 100"
                [class.after-load]="loaded"
            >
                {{ overallPercentage }}%
            </div>
        </div>
        <div class="donut-chart-title">
            <div
                class="title-val anim-title"
                [class.complaint]="overallPercentage == 100"
                [class.after-load]="loaded"
            >
                overall
            </div>
        </div>
    </div>
    <div
        class="absolute data-pack"
        [ngStyle]="{
            transform: 'translate(-106%,' + textTransformVal + 'px)',
            'line-height': radiusDelta + 'px'
        }"
    >
        <div class="ilb v-mid title-wrap">
            <div
                title="{{ instance[1].title | uppercase }}"
                class="nowrap-ellipsis anim-title"
                *ngFor="let instance of donutData"
                [(class.after-load)]="loaded"
            >
                {{ instance[1].title }}
            </div>
        </div>
        <div class="ilb v-mid bold percent-wrap">
            <div
                class="anim-title"
                *ngFor="let instance of donutData"
                [(class.after-load)]="loaded"
            >
                {{ instance[1].val }}%
            </div>
        </div>
    </div>
</div>
